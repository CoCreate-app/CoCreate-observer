!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.CoCreate=t():(e.CoCreate=e.CoCreate||{},e.CoCreate.observer=t())}(this,(function(){return(()=>{"use strict";var e={};return(()=>{var t=e;t.default=void 0,window.profiler={},window.counter=0,window.counter2=0,window.targets={},window.attributeName={},Element.prototype.matches||(Element.prototype.matches=Element.prototype.matchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector||Element.prototype.oMatchesSelector||Element.prototype.webkitMatchesSelector||function(e){for(var t=(this.document||this.ownerDocument).querySelectorAll(e),r=t.length;--r>=0&&t.item(r)!==this;);return r>-1});const r={initTasks:new Map,attrTasks:new Map,rules:new Map,rulesArray:[],__init:function(){const e=this;new MutationObserver(((t,r)=>e.__callback(t,r))).observe(document.body,{attributes:!0,childList:!0,subtree:!0,characterData:!1,attributeOldValue:!0,characterData:!0})},init:function({observe:e,include:t,exclude:r,attributes:a,name:i,callback:o}){e.some((e=>"childList"==e))&&this.initTasks.set(o,{observe:e,include:t,exclude:r,attributes:a,name:i}),e.some((e=>"attributes"==e))&&this.attrTasks.set(o,{observe:e,include:t,exclude:r,attributes:a,name:i})},remove:function(e){this.initTasks.delete(e),this.attrTasks.delete(e)},addRule:function({include:e,exclude:t,name:r}){this.rules.set(r,{include:e,exclude:t}),this.rulesArray=Array.from(this.rules)},removeRule:function({name:e}){this.rules.delete(e),this.rulesArray=Array.from(this.rules)},__callback:function(e,t){window.counter++;for(let t of e)"childList"==t.type&&t.addedNodes.length>0&&this.__initCallback(t),"attributes"==t.type&&this.__attrCallback(t)},__initCallback:function(e){this.initTasks.forEach((({observe:t,include:r,exclude:a,attributes:i,name:o},s)=>{e.addedNodes.forEach((t=>{t.tagName&&(!r||t.matches(r)||t.querySelector(r))&&(a&&(t.matches(a)||t.querySelector(a))||s.apply(null,[{type:e.type,target:t,isRemoved:!1}]))})),e.removedNodes.forEach((t=>{t.tagName&&(!r||t.matches(r)||t.querySelector(r))&&(a&&(t.matches(a)||t.querySelector(a))||s.apply(null,[{type:e.type,target:t,isRemoved:!0}]))}))}))},__attrCallback:function(e){for(let[t,{include:r,exclude:a}]of this.rulesArray){if(r&&!e.target.matches(r))return;if(a&&e.target.matches(a))return}this.attrTasks.forEach((({observe:t,include:r,exclude:a,attributes:i,name:o},s)=>{if((!i||!e.attributeName||i.includes(e.attributeName))&&(!r||e.target.matches(r))&&(!a||!e.target.matches(a))&&e.attributeName){e.target.getAttribute(e.attributeName)!=e.oldValue&&s.apply(null,[e])}}))},setInitialized:function(e,t){e["co_initialized_"+(t=t||"")]=!0},getInitialized:function(e,t){return!!e["co_initialized_"+(t=t||"")]}};r.__init();var a=r;t.default=a})(),e=e.default})()}));